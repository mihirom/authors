<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authors - AIæ­è¼‰è‘—è€…ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .card-shadow {
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .hover-lift:hover {
            transform: translateY(-2px);
            transition: all 0.3s ease;
        }
        
        .tab-active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .upload-area {
            border: 3px dashed #667eea;
            transition: all 0.3s ease;
        }
        
        .upload-area:hover {
            border-color: #764ba2;
            background: rgba(102, 126, 234, 0.05);
        }
        
        .upload-area.dragover {
            border-color: #764ba2;
            background: rgba(102, 126, 234, 0.1);
            transform: scale(1.02);
        }
        
        .progress-bar {
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.5s ease;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(40, 167, 69, 0.3);
        }
        
        .lesson-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 4px solid #667eea;
        }
        
        .email-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 4px solid #764ba2;
        }
        
        .sns-platform {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .script-section {
            background: #f8f9ff;
            padding: 16px;
            border-radius: 8px;
            margin-top: 12px;
        }
        
        .timeline-item {
            background: #667eea;
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 14px;
            margin-right: 8px;
            margin-bottom: 8px;
            display: inline-block;
        }
        
        .keyword-tag {
            background: #e8f5e8;
            color: #28a745;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            margin-right: 8px;
            margin-bottom: 8px;
            display: inline-block;
        }
        
        .target-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .strategy-item {
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            position: relative;
            padding-left: 25px;
        }
        
        .strategy-item:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #667eea;
            font-weight: bold;
        }
        
        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .duration-badge {
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
        }
        
        .download-area {
            background: #f8f9ff;
            border: 2px dashed #667eea;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
            margin-top: 16px;
        }
    </style>
</head>
<body class="gradient-bg min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Header -->
        <div class="text-center mb-10">
            <h1 class="text-5xl font-bold text-white mb-4">
                <i class="fas fa-book-open mr-3"></i>Authors
            </h1>
            <p class="text-xl text-white opacity-90">AIæ­è¼‰è‘—è€…ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </p>
        </div>

        <!-- Upload Section -->
        <div class="bg-white rounded-3xl p-8 mb-8 card-shadow">
            <div class="upload-area border-dashed border-4 border-blue-400 rounded-2xl p-12 text-center cursor-pointer" id="uploadArea">
                <div class="text-6xl text-blue-500 mb-4">
                    <i class="fas fa-file-upload"></i>
                </div>
                <div class="text-2xl font-semibold text-gray-700 mb-4">ãƒ“ã‚¸ãƒã‚¹æ›¸ã®åŸç¨¿ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„</div>
                <div class="text-gray-500">å¯¾å¿œå½¢å¼: PDF, Word (.docx), ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ« (.txt)</div>
                <input type="file" id="fileInput" accept=".pdf,.docx,.txt" class="hidden" />
            </div>
            <button class="btn-primary text-white px-8 py-3 rounded-full text-lg font-semibold mt-6 hidden" id="analyzeBtn">
                <i class="fas fa-robot mr-2"></i>AIåˆ†æã‚’é–‹å§‹
            </button>
            <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mt-4 hidden" id="fileInfo"></div>
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mt-4 hidden" id="errorMessage"></div>
        </div>

        <!-- Progress Section -->
        <div class="bg-white rounded-3xl p-8 mb-8 card-shadow hidden" id="progressSection">
            <div class="loading-spinner mx-auto mb-6"></div>
            <div class="w-full bg-gray-200 rounded-full h-6 mb-6">
                <div class="progress-bar h-6 rounded-full transition-all duration-500" id="progressFill" style="width: 0%"></div>
            </div>
            <div class="text-center text-lg text-gray-700" id="progressText">åŸç¨¿ã‚’åˆ†æä¸­...</div>
        </div>

        <!-- Results Section -->
        <div class="bg-white rounded-3xl p-8 card-shadow hidden" id="resultsSection">
            <!-- Tabs -->
            <div class="flex flex-wrap border-b-2 border-gray-200 mb-8">
                <div class="tab px-6 py-3 cursor-pointer font-semibold text-gray-600 hover:text-blue-600 transition-colors tab-active" data-tab="analysis">
                    <i class="fas fa-chart-line mr-2"></i>åˆ†æçµæœ
                </div>
                <div class="tab px-6 py-3 cursor-pointer font-semibold text-gray-600 hover:text-blue-600 transition-colors" data-tab="promotion">
                    <i class="fas fa-rocket mr-2"></i>ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥
                </div>
                <div class="tab px-6 py-3 cursor-pointer font-semibold text-gray-600 hover:text-blue-600 transition-colors" data-tab="course">
                    <i class="fas fa-graduation-cap mr-2"></i>ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒ¼ãƒ«
                </div>
                <div class="tab px-6 py-3 cursor-pointer font-semibold text-gray-600 hover:text-blue-600 transition-colors" data-tab="email">
                    <i class="fas fa-envelope mr-2"></i>ãƒ¡ãƒ¼ãƒ«ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³
                </div>
            </div>

            <!-- Analysis Tab -->
            <div class="tab-content" id="analysis">
                <div class="space-y-6">
                    <div class="bg-blue-50 rounded-2xl p-6 border-l-4 border-blue-500">
                        <h3 class="text-xl font-semibold text-blue-700 mb-4">
                            <i class="fas fa-users mr-2"></i>ã‚¿ãƒ¼ã‚²ãƒƒãƒˆèª­è€…åˆ†æ
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="targetAudience">
                            <!-- å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ -->
                        </div>
                    </div>

                    <div class="bg-green-50 rounded-2xl p-6 border-l-4 border-green-500">
                        <h3 class="text-xl font-semibold text-green-700 mb-4">
                            <i class="fas fa-tags mr-2"></i>ã‚¸ãƒ£ãƒ³ãƒ«ãƒ»ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰åˆ†æ
                        </h3>
                        <div id="genreAnalysis">
                            <!-- å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ -->
                        </div>
                    </div>

                    <div class="bg-purple-50 rounded-2xl p-6 border-l-4 border-purple-500">
                        <h3 class="text-xl font-semibold text-purple-700 mb-4">
                            <i class="fas fa-pen-nib mr-2"></i>æ–‡ä½“ãƒ»ãƒˆãƒ¼ãƒ³åˆ†æ
                        </h3>
                        <div id="toneAnalysis">
                            <!-- å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Promotion Tab -->
            <div class="tab-content hidden" id="promotion">
                <div class="space-y-6">
                    <div class="bg-blue-50 rounded-2xl p-6 border-l-4 border-blue-500">
                        <h3 class="text-xl font-semibold text-blue-700 mb-4">
                            <i class="fas fa-share-alt mr-2"></i>SNSæˆ¦ç•¥
                        </h3>
                        <div id="snsStrategy">
                            <!-- å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ -->
                        </div>
                    </div>

                    <div class="bg-green-50 rounded-2xl p-6 border-l-4 border-green-500">
                        <h3 class="text-xl font-semibold text-green-700 mb-4">
                            <i class="fas fa-newspaper mr-2"></i>PRãƒ»ãƒ¡ãƒ‡ã‚£ã‚¢æˆ¦ç•¥
                        </h3>
                        <div id="prStrategy">
                            <!-- å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ -->
                        </div>
                    </div>

                    <div class="bg-yellow-50 rounded-2xl p-6 border-l-4 border-yellow-500">
                        <h3 class="text-xl font-semibold text-yellow-700 mb-4">
                            <i class="fas fa-bullhorn mr-2"></i>åºƒå‘Šãƒ»ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°
                        </h3>
                        <div id="adStrategy">
                            <!-- å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ -->
                        </div>
                    </div>

                    <div class="bg-purple-50 rounded-2xl p-6 border-l-4 border-purple-500">
                        <h3 class="text-xl font-semibold text-purple-700 mb-4">
                            <i class="fas fa-calendar-alt mr-2"></i>ã‚¤ãƒ™ãƒ³ãƒˆãƒ»ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³
                        </h3>
                        <div id="eventStrategy">
                            <!-- å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Course Tab -->
            <div class="tab-content hidden" id="course">
                <div class="space-y-6">
                    <div class="bg-blue-50 rounded-2xl p-6 border-l-4 border-blue-500">
                        <h3 class="text-xl font-semibold text-blue-700 mb-4">
                            <i class="fas fa-graduation-cap mr-2"></i>ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒ¼ãƒ«æ§‹æˆï¼ˆ5åˆ†Ã—30ãƒ¬ãƒƒã‚¹ãƒ³ï¼‰
                        </h3>
                        <div id="courseStructure">
                            <!-- å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ -->
                        </div>
                        <div class="download-area">
                            <div class="text-lg font-semibold text-blue-700 mb-2">
                                <i class="fas fa-download mr-2"></i>è¬›åº§ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                            </div>
                            <p class="text-gray-600 mb-4">å…¨30ãƒ¬ãƒƒã‚¹ãƒ³ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä¸€æ‹¬ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™</p>
                            <button class="btn-secondary text-white px-6 py-3 rounded-full font-semibold hover-lift" id="downloadSlidesBtn">
                                <i class="fas fa-file-powerpoint mr-2"></i>ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                            </button>
                        </div>
                    </div>

                    <div class="bg-green-50 rounded-2xl p-6 border-l-4 border-green-500">
                        <h3 class="text-xl font-semibold text-green-700 mb-4">
                            <i class="fas fa-dollar-sign mr-2"></i>ä¾¡æ ¼è¨­å®šãƒ»ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«
                        </h3>
                        <div id="pricingStrategy">
                            <!-- å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Email Tab -->
            <div class="tab-content hidden" id="email">
                <div class="space-y-6">
                    <div class="bg-purple-50 rounded-2xl p-6 border-l-4 border-purple-500">
                        <h3 class="text-xl font-semibold text-purple-700 mb-4">
                            <i class="fas fa-envelope mr-2"></i>ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒ¼ãƒ«è²©å£²ç”¨ã‚¹ãƒ†ãƒƒãƒ—ãƒ¡ãƒ¼ãƒ«
                        </h3>
                        <div id="emailSequence">
                            <!-- å‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Download Button -->
            <div class="text-center mt-8">
                <button class="btn-secondary text-white px-8 py-3 rounded-full text-lg font-semibold hover-lift" id="downloadBtn">
                    <i class="fas fa-download mr-2"></i>åˆ†æçµæœã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                </button>
            </div>
        </div>
    </div>

    <script>
        class AuthorsAnalyzer {
            constructor() {
                this.uploadedFile = null;
                this.analysisResults = null;
                this.snsPostCounts = {
                    x: 0,
                    instagram: 0,
                    facebook: 0
                };
                this.initializeEventListeners();
            }

            initializeEventListeners() {
                const uploadArea = document.getElementById('uploadArea');
                const fileInput = document.getElementById('fileInput');
                const analyzeBtn = document.getElementById('analyzeBtn');
                const downloadBtn = document.getElementById('downloadBtn');
                const downloadSlidesBtn = document.getElementById('downloadSlidesBtn');

                // ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰é–¢é€£
                uploadArea.addEventListener('click', () => fileInput.click());
                uploadArea.addEventListener('dragover', this.handleDragOver.bind(this));
                uploadArea.addEventListener('dragleave', this.handleDragLeave.bind(this));
                uploadArea.addEventListener('drop', this.handleDrop.bind(this));
                fileInput.addEventListener('change', this.handleFileSelect.bind(this));

                // åˆ†æé–‹å§‹
                analyzeBtn.addEventListener('click', this.startAnalysis.bind(this));

                // ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.addEventListener('click', this.switchTab.bind(this));
                });

                // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
                downloadBtn.addEventListener('click', this.downloadResults.bind(this));
                downloadSlidesBtn.addEventListener('click', this.downloadSlides.bind(this));
            }

            handleDragOver(e) {
                e.preventDefault();
                document.getElementById('uploadArea').classList.add('dragover');
            }

            handleDragLeave(e) {
                e.preventDefault();
                document.getElementById('uploadArea').classList.remove('dragover');
            }

            handleDrop(e) {
                e.preventDefault();
                document.getElementById('uploadArea').classList.remove('dragover');
                const files = e.dataTransfer.files;
                if (files.length > 0) {
                    this.processFile(files[0]);
                }
            }

            handleFileSelect(e) {
                const file = e.target.files[0];
                if (file) {
                    this.processFile(file);
                }
            }

            processFile(file) {
                const allowedTypes = ['application/pdf', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'text/plain'];
                if (!allowedTypes.includes(file.type)) {
                    this.showError('å¯¾å¿œã—ã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™ã€‚PDFã€Wordã€ã¾ãŸã¯ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚');
                    return;
                }

                if (file.size > 10 * 1024 * 1024) {
                    this.showError('ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒå¤§ãã™ãã¾ã™ã€‚10MBä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚');
                    return;
                }

                this.uploadedFile = file;
                this.showFileInfo(file);
                document.getElementById('analyzeBtn').classList.remove('hidden');
                this.hideError();
            }

            showFileInfo(file) {
                const fileInfo = document.getElementById('fileInfo');
                const fileSize = (file.size / 1024 / 1024).toFixed(2);
                fileInfo.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas fa-check-circle text-green-500 mr-3"></i>
                        <div>
                            <div class="font-semibold">ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Œäº†</div>
                            <div class="text-sm">ãƒ•ã‚¡ã‚¤ãƒ«å: ${file.name} | ã‚µã‚¤ã‚º: ${fileSize} MB</div>
                        </div>
                    </div>
                `;
                fileInfo.classList.remove('hidden');
            }

            showError(message) {
                const errorDiv = document.getElementById('errorMessage');
                errorDiv.innerHTML = `
                    <div class="flex items-center">
                        <i class="fas fa-exclamation-triangle text-red-500 mr-3"></i>
                        <div>${message}</div>
                    </div>
                `;
                errorDiv.classList.remove('hidden');
            }

            hideError() {
                document.getElementById('errorMessage').classList.add('hidden');
            }

            async startAnalysis() {
                if (!this.uploadedFile) {
                    this.showError('ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚');
                    return;
                }

                document.getElementById('progressSection').classList.remove('hidden');
                document.getElementById('analyzeBtn').disabled = true;

                try {
                    const fileContent = await this.readFile(this.uploadedFile);
                    await this.performAnalysis(fileContent);
                    this.displayResults();
                } catch (error) {
                    console.error('åˆ†æã‚¨ãƒ©ãƒ¼:', error);
                    this.showError('åˆ†æä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚');
                } finally {
                    document.getElementById('progressSection').classList.add('hidden');
                    document.getElementById('analyzeBtn').disabled = false;
                }
            }

            async readFile(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = (e) => resolve(e.target.result);
                    reader.onerror = (e) => reject(e);
                    reader.readAsText(file);
                });
            }

            async performAnalysis(content) {
                const steps = [
                    { text: 'åŸç¨¿ã‚’èª­ã¿è¾¼ã¿ä¸­...', progress: 20 },
                    { text: 'ãƒ†ã‚­ã‚¹ãƒˆè§£æä¸­...', progress: 40 },
                    { text: 'ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ†æä¸­...', progress: 60 },
                    { text: 'ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥ç”Ÿæˆä¸­...', progress: 80 },
                    { text: 'ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ è¨­è¨ˆä¸­...', progress: 100 }
                ];

                for (const step of steps) {
                    await this.updateProgress(step.text, step.progress);
                    await this.delay(1000);
                }

                this.analysisResults = this.analyzeContent(content);
            }

            analyzeContent(content) {
                const wordCount = content.split(' ').length;
                const sentences = content.split('.').length;
                const keywords = this.extractKeywords(content);
                const tone = this.analyzeTone(content);
                const genre = this.determineGenre(content);

                return {
                    basic: { wordCount, sentences, keywords, tone, genre },
                    targetAudience: this.generateTargetAudience(content, keywords),
                    promotionStrategy: this.generatePromotionStrategy(content, keywords, genre),
                    courseStructure: this.generateCourseStructure(content, keywords, genre),
                    emailSequence: this.generateEmailSequence(content, keywords, genre)
                };
            }

            extractKeywords(content) {
                const businessKeywords = [
                    'ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ', 'çµŒå–¶', 'ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—', 'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°', 'æˆ¦ç•¥',
                    'ã‚¤ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³', 'DX', 'ãƒ‡ã‚¸ã‚¿ãƒ«å¤‰é©', 'çµ„ç¹”', 'ãƒãƒ¼ãƒ ',
                    'ç”Ÿç”£æ€§', 'åŠ¹ç‡', 'æˆæœ', 'ç›®æ¨™', 'KPI', 'ROI',
                    'èµ·æ¥­', 'ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—', 'ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«', 'åç›Š',
                    'ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³', 'ãƒ—ãƒ¬ã‚¼ãƒ³', 'äº¤æ¸‰', 'å–¶æ¥­'
                ];

                const foundKeywords = businessKeywords.filter(keyword => 
                    content.toLowerCase().includes(keyword.toLowerCase())
                );

                return foundKeywords.slice(0, 8);
            }

            analyzeTone(content) {
                const formalWords = ['ã§ã‚ã‚‹', 'ã¾ã™', 'ã§ã™', 'è‡´ã—ã¾ã™'];
                const casualWords = ['ã ã‚ˆ', 'ã ã­', 'ã˜ã‚ƒã‚“', 'ã£ã¦'];
                
                const formalCount = formalWords.reduce((count, word) => 
                    count + (content.match(new RegExp(word, 'g')) || []).length, 0);
                const casualCount = casualWords.reduce((count, word) => 
                    count + (content.match(new RegExp(word, 'g')) || []).length, 0);

                if (formalCount > casualCount) {
                    return { type: 'ãƒ•ã‚©ãƒ¼ãƒãƒ«', description: 'ä¸å¯§ã§å°‚é–€çš„ãªæ–‡ä½“' };
                } else {
                    return { type: 'ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«', description: 'è¦ªã—ã¿ã‚„ã™ãèª­ã¿ã‚„ã™ã„æ–‡ä½“' };
                }
            }

            determineGenre(content) {
                const genres = {
                    'ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ': ['ç®¡ç†', 'çµŒå–¶', 'ãƒªãƒ¼ãƒ€ãƒ¼', 'ãƒãƒã‚¸ãƒ¡ãƒ³ãƒˆ'],
                    'ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°': ['ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°', 'åºƒå‘Š', 'ãƒ–ãƒ©ãƒ³ãƒ‰', 'é¡§å®¢'],
                    'èµ·æ¥­ãƒ»ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—': ['èµ·æ¥­', 'ã‚¹ã‚¿ãƒ¼ãƒˆã‚¢ãƒƒãƒ—', 'ãƒ™ãƒ³ãƒãƒ£ãƒ¼', 'å‰µæ¥­'],
                    'è‡ªå·±å•“ç™º': ['æˆåŠŸ', 'ç¿’æ…£', 'ç›®æ¨™', 'æˆé•·', 'è‡ªå·±å•“ç™º'],
                    'DXãƒ»ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼': ['DX', 'ãƒ‡ã‚¸ã‚¿ãƒ«', 'AI', 'ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼', 'IT']
                };

                let maxScore = 0;
                let detectedGenre = 'ãƒ“ã‚¸ãƒã‚¹ä¸€èˆ¬';

                for (const [genre, keywords] of Object.entries(genres)) {
                    const score = keywords.reduce((count, keyword) => 
                        count + (content.toLowerCase().includes(keyword.toLowerCase()) ? 1 : 0), 0);
                    
                    if (score > maxScore) {
                        maxScore = score;
                        detectedGenre = genre;
                    }
                }

                return detectedGenre;
            }

            generateTargetAudience(content, keywords) {
                return [
                    {
                        title: 'çµŒå–¶è€…ãƒ»ç®¡ç†è·',
                        description: 'ä¼æ¥­ã®æ„æ€æ±ºå®šã«é–¢ã‚ã‚‹ç«‹å ´ã®æ–¹',
                        demographics: '30-50ä»£ã€å¹´å800ä¸‡å††ä»¥ä¸Š',
                        interests: ['çµ„ç¹”é‹å–¶', 'æˆ¦ç•¥ç«‹æ¡ˆ', 'ãƒªãƒ¼ãƒ€ãƒ¼ã‚·ãƒƒãƒ—'],
                        channels: ['LinkedIn', 'NewsPicks', 'æ—¥çµŒæ–°è']
                    },
                    {
                        title: 'ä¸­å …ãƒ“ã‚¸ãƒã‚¹ãƒ‘ãƒ¼ã‚½ãƒ³',
                        description: 'ã‚­ãƒ£ãƒªã‚¢ã‚¢ãƒƒãƒ—ã‚’ç›®æŒ‡ã™ä¼šç¤¾å“¡',
                        demographics: '25-40ä»£ã€å¹´å400-800ä¸‡å††',
                        interests: ['ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ—', 'æ˜‡é€²', 'è»¢è·'],
                        channels: ['X(Twitter)', 'note', 'ãƒ“ã‚¸ãƒã‚¹é›‘èªŒ']
                    },
                    {
                        title: 'èµ·æ¥­å®¶ãƒ»ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹',
                        description: 'ç‹¬ç«‹ã—ã¦äº‹æ¥­ã‚’è¡Œã£ã¦ã„ã‚‹æ–¹',
                        demographics: '20-40ä»£ã€åå…¥å¤‰å‹•ã‚ã‚Š',
                        interests: ['äº‹æ¥­æ‹¡å¤§', 'ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚­ãƒ³ã‚°', 'æ–°è¦äº‹æ¥­'],
                        channels: ['Facebook', 'Instagram', 'YouTube']
                    }
                ];
            }

            generatePromotionStrategy(content, keywords, genre) {
                return {
                    sns: {
                        x: this.generateSNSPosts('x', genre, keywords),
                        instagram: this.generateSNSPosts('instagram', genre, keywords),
                        facebook: this.generateSNSPosts('facebook', genre, keywords)
                    },
                    pr: {
                        pressRelease: `${genre}åˆ†é‡ã®å°‚é–€å®¶ã«ã‚ˆã‚‹å®Ÿè·µçš„ãƒ“ã‚¸ãƒã‚¹æ›¸ç™ºå£²`,
                        mediaTargets: ['æ—¥çµŒæ–°è', 'ãƒ€ã‚¤ãƒ¤ãƒ¢ãƒ³ãƒ‰', 'æ±æ´‹çµŒæ¸ˆ', 'ãƒ—ãƒ¬ã‚¸ãƒ‡ãƒ³ãƒˆ'],
                        interviews: [
                            `${genre}ã®ç¾çŠ¶ã¨èª²é¡Œã«ã¤ã„ã¦`,
                            'è‘—è€…ã®å®Ÿä½“é¨“ã«åŸºã¥ãæˆåŠŸäº‹ä¾‹',
                            'èª­è€…ã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã‚¢ãƒ‰ãƒã‚¤ã‚¹'
                        ]
                    },
                    advertising: {
                        google: [
                            `${genre} æœ¬ ãŠã™ã™ã‚`,
                            `${keywords[0]} å­¦ç¿’ æ›¸ç±`,
                            `ãƒ“ã‚¸ãƒã‚¹æ›¸ ${genre} å…¥é–€`
                        ],
                        facebook: {
                            targeting: '25-50ä»£ã€ãƒ“ã‚¸ãƒã‚¹é–¢å¿ƒå±¤ã€ç®¡ç†è·',
                            creative: `${genre}ã§æˆæœã‚’å‡ºã—ãŸã„æ–¹å¿…è¦‹ï¼å®Ÿè·µçš„ãƒã‚¦ãƒã‚¦ã‚’å‡ç¸®ã—ãŸä¸€å†Š`
                        }
                    },
                    events: [
                        {
                            type: 'å‡ºç‰ˆè¨˜å¿µã‚»ãƒŸãƒŠãƒ¼',
                            format: 'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ»ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ä½µç”¨',
                            content: `${genre}ã®å®Ÿè·µæ–¹æ³•ã«ã¤ã„ã¦90åˆ†ã®è¬›æ¼”`
                        },
                        {
                            type: 'æ›¸åº—ã§ã®ã‚µã‚¤ãƒ³ä¼š',
                            locations: ['ä¸¸å–„ä¸¸ã®å†…æœ¬åº—', 'è”¦å±‹æ›¸åº—ä»£å®˜å±±', 'ã‚¸ãƒ¥ãƒ³ã‚¯å ‚æ± è¢‹æœ¬åº—'],
                            special: 'è³¼å…¥è€…é™å®šã®ç‰¹å…¸è³‡æ–™é…å¸ƒ'
                        }
                    ]
                };
            }

            generateSNSPosts(platform, genre, keywords) {
                const postSets = {
                    x: [
                        [
                            `ğŸ“šæ–°åˆŠã€Œ${genre}ã®æ¥µæ„ã€ç™ºå£²ï¼\n${keywords.slice(0,3).join('ãƒ»')}ã«ã¤ã„ã¦å®Ÿè·µçš„ã«è§£èª¬\n#ãƒ“ã‚¸ãƒã‚¹æ›¸ #${genre} #æ–°åˆŠ`,
                            `${genre}ã§æˆæœã‚’å‡ºã™ãŸã‚ã®3ã¤ã®ãƒã‚¤ãƒ³ãƒˆ:\n1. ${keywords[0]}ã®ç†è§£\n2. ${keywords[1]}ã®å®Ÿè·µ\n3. ${keywords[2]}ã®ç¶™ç¶š\nè©³ã—ãã¯æ–°åˆŠã§ï¼`,
                            `èª­è€…ã®çš†æ§˜ã‹ã‚‰ã®æ„Ÿæƒ³ã‚’ãŠå¾…ã¡ã—ã¦ã„ã¾ã™ï¼\nã€Œã“ã®æœ¬ã§${genre}ã¸ã®ç†è§£ãŒæ·±ã¾ã£ãŸã€\nã¨ã„ã†ãŠå£°ã‚’ã„ãŸã ã‘ã‚‹ã¨å¬‰ã—ã„ã§ã™ğŸ“–`
                        ],
                        [
                            `ğŸ”¥${genre}ã®æœ¬è³ªã¨ã¯ä½•ã‹ï¼Ÿ\nå¤šãã®äººãŒå‹˜é•ã„ã—ã¦ã„ã‚‹${keywords[0]}ã®çœŸå®Ÿã‚’ãŠè©±ã—ã—ã¾ã™\n#${genre} #ãƒ“ã‚¸ãƒã‚¹æ›¸ #å¿…èª­`,
                            `ä»Šæ—¥ã®ãƒ“ã‚¸ãƒã‚¹æ ¼è¨€:\nã€Œ${keywords[1]}ãªãã—ã¦æˆåŠŸãªã—ã€\næ–°åˆŠã§ã“ã®è¨€è‘‰ã®çœŸæ„ã‚’è©³ã—ãè§£èª¬ã—ã¦ã„ã¾ã™ğŸ’¡`,
                            `${genre}ã‚’å­¦ã¶ãªã‚‰ä»Šï¼\næ™‚ä»£ã®å¤‰åŒ–ã«å¯¾å¿œã§ãã‚‹${keywords[2]}ã®åŠ›ã‚’èº«ã«ã¤ã‘ã‚ˆã†\n#ã‚¹ã‚­ãƒ«ã‚¢ãƒƒãƒ— #${genre}`
                        ]
                    ],
                    instagram: [
                        [
                            `æ–°åˆŠã®åŸ·ç­†é¢¨æ™¯ã‚’ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã§ã‚·ã‚§ã‚¢`,
                            `${genre}ã«é–¢ã™ã‚‹å›³è§£æŠ•ç¨¿ã‚·ãƒªãƒ¼ã‚º`,
                            `èª­è€…ã¨ã®è³ªç–‘å¿œç­”ãƒ©ã‚¤ãƒ–é…ä¿¡`
                        ],
                        [
                            `${genre}ã®æˆåŠŸäº‹ä¾‹ã‚’å†™çœŸä»˜ãã§ç´¹ä»‹`,
                            `ã‚ªãƒ•ã‚£ã‚¹ã§ã®${keywords[0]}å®Ÿè·µé¢¨æ™¯`,
                            `èª­è€…ã‹ã‚‰ã®æ„Ÿæƒ³æŠ•ç¨¿ã‚’ãƒªãƒã‚¹ãƒˆ`
                        ]
                    ],
                    facebook: [
                        [
                            `${genre}æ¥­ç•Œã®æœ€æ–°ãƒˆãƒ¬ãƒ³ãƒ‰ã«ã¤ã„ã¦ã®å°‚é–€è¨˜äº‹æŠ•ç¨¿`,
                            `æ¥­ç•Œãƒªãƒ¼ãƒ€ãƒ¼ã¨ã®å¯¾è«‡å‹•ç”»ã‚·ã‚§ã‚¢`,
                            `ãƒ“ã‚¸ãƒã‚¹ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ã®ç´¹ä»‹`
                        ],
                        [
                            `${keywords[0]}ã®å®Ÿè·µæ–¹æ³•ã«ã¤ã„ã¦è©³ç´°è§£èª¬`,
                            `èª­è€…é™å®šã®${genre}ã‚»ãƒŸãƒŠãƒ¼é–‹å‚¬å‘ŠçŸ¥`,
                            `æ¥­ç•Œã®æœªæ¥äºˆæ¸¬ã¨${keywords[1]}ã®é‡è¦æ€§`
                        ]
                    ]
                };

                return postSets[platform] || [[]];
            }

            generateCourseStructure(content, keywords, genre) {
                const lessons = [];
                const topics = [
                    'åŸºç¤ç†è§£', 'æ¦‚å¿µæ•´ç†', 'å®Ÿè·µæº–å‚™', 'å°å…¥æ–¹æ³•', 'åŸºæœ¬æŠ€è¡“',
                    'å¿œç”¨æŠ€è¡“', 'å®Ÿè·µæ¼”ç¿’', 'äº‹ä¾‹ç ”ç©¶', 'å•é¡Œè§£æ±º', 'æˆæœæ¸¬å®š',
                    'æ”¹å–„æ‰‹æ³•', 'ç¶™ç¶šæ–¹æ³•', 'ç™ºå±•æŠ€è¡“', 'å¿œç”¨äº‹ä¾‹', 'çµ±åˆæ–¹æ³•',
                    'ãƒãƒ¼ãƒ æ´»ç”¨', 'çµ„ç¹”å°å…¥', 'å¤‰é©æ¨é€²', 'æˆæœæœ€å¤§åŒ–', 'æŒç¶šå¯èƒ½æ€§',
                    'æ¬¡ä¸–ä»£å¯¾å¿œ', 'é©æ–°çš„æ´»ç”¨', 'æˆ¦ç•¥çµ±åˆ', 'å…¨ä½“æœ€é©åŒ–', 'æœªæ¥å±•æœ›',
                    'å®Ÿè·µã¾ã¨ã‚', 'æˆåŠŸè¦å› ', 'å¤±æ•—å›é¿', 'ç¶™ç¶šæ”¹å–„', 'ç·åˆæ¼”ç¿’'
                ];

                for (let i = 0; i < 30; i++) {
                    lessons.push({
                        number: i + 1,
                        title: `${topics[i]}ã¨${keywords[i % keywords.length]}`,
                        duration: '5åˆ†',
                        objectives: [
                            `${topics[i]}ã®ç†è§£`,
                            `${keywords[i % keywords.length]}ã®ç¿’å¾—`,
                            'å®Ÿè·µã¸ã®å¿œç”¨'
                        ],
                        script: {
                            intro: `ã“ã‚“ã«ã¡ã¯ã€‚ç¬¬${i + 1}å›ã§ã¯${topics[i]}ã«ã¤ã„ã¦å­¦ã³ã¾ã™ã€‚`,
                            main: `${keywords[i % keywords.length]}ã«ã¤ã„ã¦è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚`,
                            practice: `å®Ÿéš›ã«${topics[i]}ã‚’è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚`,
                            closing: `æ¬¡å›ã¯${topics[i + 1] || 'ç·ã¾ã¨ã‚'}ã«ã¤ã„ã¦å­¦ã³ã¾ã™ã€‚`
                        },
                        materials: ['è¬›ç¾©ã‚¹ãƒ©ã‚¤ãƒ‰', 'ãƒ¯ãƒ¼ã‚¯ã‚·ãƒ¼ãƒˆ', 'å‚è€ƒè³‡æ–™'],
                        slides: this.generateSlideContent(i + 1, topics[i], keywords[i % keywords.length])
                    });
                }

                return {
                    lessons,
                    pricing: {
                        basic: '29,800å††ï¼ˆè²·ã„åˆ‡ã‚Šï¼‰',
                        premium: '49,800å††ï¼ˆå€‹åˆ¥ã‚µãƒãƒ¼ãƒˆä»˜ãï¼‰',
                        corporate: 'è¦ç›¸è«‡ï¼ˆä¼æ¥­ç ”ä¿®ç‰ˆï¼‰'
                    },
                    platform: 'Teachableæ¨å¥¨ï¼ˆæ—¥æœ¬èªå¯¾å¿œã€æ±ºæ¸ˆæ©Ÿèƒ½å……å®Ÿï¼‰',
                    support: 'å°‚ç”¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã€æœˆ1å›ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³è³ªå•ä¼š',
                    certificate: 'ã‚³ãƒ¼ã‚¹ä¿®äº†è¨¼ã®ç™ºè¡Œ',
                    upsell: 'ä¸Šç´šã‚³ãƒ¼ã‚¹ã€å€‹åˆ¥ã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°ã€ä¼æ¥­ç ”ä¿®'
                };
            }

            generateSlideContent(lessonNumber, topic, keyword) {
                return {
                    title: `ç¬¬${lessonNumber}å›: ${topic}ã¨${keyword}`,
                    slides: [
                        {
                            type: 'title',
                            content: `ç¬¬${lessonNumber}å›\n${topic}ã¨${keyword}`,
                            notes: 'å°å…¥ã‚¹ãƒ©ã‚¤ãƒ‰'
                        },
                        {
                            type: 'agenda',
                            content: `æœ¬æ—¥ã®å†…å®¹\n1. ${topic}ã®æ¦‚è¦\n2. ${keyword}ã®é‡è¦æ€§\n3. å®Ÿè·µæ–¹æ³•\n4. ã¾ã¨ã‚`,
                            notes: 'ã‚¢ã‚¸ã‚§ãƒ³ãƒ€'
                        },
                        {
                            type: 'content',
                            content: `${topic}ã¨ã¯\nãƒ»å®šç¾©ã¨ç‰¹å¾´\nãƒ»é‡è¦æ€§\nãƒ»æ´»ç”¨å ´é¢`,
                            notes: 'æ¦‚å¿µèª¬æ˜'
                        },
                        {
                            type: 'practice',
                            content: `${keyword}ã®å®Ÿè·µ\nãƒ»å…·ä½“çš„æ‰‹é †\nãƒ»æ³¨æ„ç‚¹\nãƒ»æˆåŠŸã®ã‚³ãƒ„`,
                            notes: 'å®Ÿè·µæ–¹æ³•'
                        },
                        {
                            type: 'summary',
                            content: `ã¾ã¨ã‚\nãƒ»${topic}ã®é‡è¦ãƒã‚¤ãƒ³ãƒˆ\nãƒ»${keyword}ã®æ´»ç”¨æ–¹æ³•\nãƒ»æ¬¡å›äºˆå‘Š`,
                            notes: 'ã¾ã¨ã‚'
                        }
                    ]
                };
            }

            generateEmailSequence(content, keywords, genre) {
                return [
                    {
                        number: 1,
                        title: 'ã€é‡è¦ã€‘ã‚ãªãŸã®${genre}ã®æ‚©ã¿ã€è§£æ±ºã§ãã¾ã™',
                        timing: 'ç™»éŒ²ç›´å¾Œ',
                        purpose: 'é–¢ä¿‚æ§‹ç¯‰ãƒ»ä¿¡é ¼ç²å¾—',
                        subject: 'ã€${genre}ã§æˆæœã‚’å‡ºã™ã€‘ã¾ãšã¯ã“ã‚Œã‚’èª­ã‚“ã§ãã ã•ã„',
                        content: `ã“ã‚“ã«ã¡ã¯ã€‚

ã“ã®åº¦ã¯ç§ã®${genre}ã«é–¢ã™ã‚‹ãƒ¡ãƒ¼ãƒ«ãƒã‚¬ã‚¸ãƒ³ã«ã”ç™»éŒ²ã„ãŸã ãã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚

ç§ã¯${genre}ã®åˆ†é‡ã§10å¹´ä»¥ä¸Šã®å®Ÿç¸¾ã‚’æŒã¤å°‚é–€å®¶ã¨ã—ã¦ã€å¤šãã®æ–¹ã®æ‚©ã¿ã‚’è§£æ±ºã—ã¦ãã¾ã—ãŸã€‚

ã‚ãªãŸã¯ä»Šã€ã“ã‚“ãªæ‚©ã¿ã‚’æŠ±ãˆã¦ã„ã¾ã›ã‚“ã‹ï¼Ÿ

ãƒ»${keywords[0]}ãŒã†ã¾ãã„ã‹ãªã„
ãƒ»${keywords[1]}ã®æ­£ã—ã„æ–¹æ³•ãŒã‚ã‹ã‚‰ãªã„
ãƒ»${keywords[2]}ã§æˆæœãŒå‡ºãªã„

ã‚‚ã—ãã†ãªã‚‰ã€ã“ã®ãƒ¡ãƒ¼ãƒ«ã‚·ãƒªãƒ¼ã‚ºãŒã‚ãªãŸã®ãŠå½¹ã«ç«‹ã¦ã‚‹ã¯ãšã§ã™ã€‚

æ¬¡å›ã®ãƒ¡ãƒ¼ãƒ«ã§ã¯ã€å¤šãã®äººãŒé™¥ã‚‹${genre}ã®ã€Œã‚ˆãã‚ã‚‹é–“é•ã„ã€ã«ã¤ã„ã¦ãŠè©±ã—ã—ã¾ã™ã€‚

æ¥½ã—ã¿ã«ã—ã¦ã„ã¦ãã ã•ã„ã€‚

[ã‚ãªãŸã®åå‰]`,
                        cta: 'æ¬¡å›ãƒ¡ãƒ¼ãƒ«ã‚’æ¥½ã—ã¿ã«ã™ã‚‹',
                        psychology: 'è¿”å ±æ€§ã®åŸç†ãƒ»æ¨©å¨æ€§'
                    },
                    {
                        number: 2,
                        title: 'ã€è­¦å‘Šã€‘ã“ã®é–“é•ã„ã‚’ã—ã¦ã„ã¾ã›ã‚“ã‹ï¼Ÿ',
                        timing: '1æ—¥å¾Œ',
                        purpose: 'å•é¡Œæèµ·ãƒ»å…±æ„Ÿ',
                        subject: 'ã€${genre}ã€‘90%ã®äººãŒçŸ¥ã‚‰ãªã„è‡´å‘½çš„ãªé–“é•ã„',
                        content: `ã“ã‚“ã«ã¡ã¯ã€‚

æ˜¨æ—¥ã®ãƒ¡ãƒ¼ãƒ«ã¯ã„ã‹ãŒã§ã—ãŸã§ã—ã‚‡ã†ã‹ï¼Ÿ

ä»Šæ—¥ã¯ã€${genre}ã§æˆæœã‚’å‡ºã›ãªã„äººã®ã€Œå…±é€šç‚¹ã€ã«ã¤ã„ã¦ãŠè©±ã—ã—ã¾ã™ã€‚

å®Ÿã¯ã€${genre}ã§æ€ã†ã‚ˆã†ãªçµæœãŒå‡ºãªã„äººã®90%ã¯ã€åŒã˜é–“é•ã„ã‚’çŠ¯ã—ã¦ã„ã¾ã™ã€‚

ãã‚Œã¯...

ã€Œ${keywords[0]}ã‚’è»½è¦–ã—ã¦ã„ã‚‹ã€

ã“ã¨ã§ã™ã€‚

å¤šãã®äººã¯${keywords[1]}ã‚„${keywords[2]}ã°ã‹ã‚Šã«æ³¨ç›®ã—ãŒã¡ã§ã™ãŒã€å®Ÿã¯${keywords[0]}ã“ããŒæœ€ã‚‚é‡è¦ãªè¦ç´ ãªã®ã§ã™ã€‚

ãªãœãªã‚‰...

[å…·ä½“çš„ãªç†ç”±ã‚’3ã¤ã»ã©èª¬æ˜]

ã“ã®ã“ã¨ã«æ°—ã¥ã„ãŸã¨ãã€ç§ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®æˆæœã¯åŠ‡çš„ã«æ”¹å–„ã—ã¾ã—ãŸã€‚

ä¾‹ãˆã°ã€Aã•ã‚“ã¯...
[æˆåŠŸäº‹ä¾‹ã‚’ç´¹ä»‹]

æ¬¡å›ã®ãƒ¡ãƒ¼ãƒ«ã§ã¯ã€ã“ã®${keywords[0]}ã‚’æ­£ã—ãæ´»ç”¨ã™ã‚‹æ–¹æ³•ã‚’ãŠä¼ãˆã—ã¾ã™ã€‚

æ¥½ã—ã¿ã«ã—ã¦ã„ã¦ãã ã•ã„ã€‚

[ã‚ãªãŸã®åå‰]`,
                        cta: 'æˆåŠŸäº‹ä¾‹ã‚’ã‚‚ã£ã¨çŸ¥ã‚ŠãŸã„',
                        psychology: 'ææ€–ãƒ»å¥½å¥‡å¿ƒãƒ»ç¤¾ä¼šçš„è¨¼æ˜'
                    },
                    {
                        number: 3,
                        title: 'ã€è§£æ±ºç­–ã€‘â—‹â—‹ã™ã‚‹ã ã‘ã§çµæœãŒå¤‰ã‚ã‚‹',
                        timing: '3æ—¥å¾Œ',
                        purpose: 'è§£æ±ºç­–æç¤ºãƒ»æ¨©å¨æ€§',
                        subject: 'ã€å®Ÿè¨¼æ¸ˆã¿ã€‘${genre}ã§ç¢ºå®Ÿã«æˆæœã‚’å‡ºã™æ–¹æ³•',
                        content: `ã“ã‚“ã«ã¡ã¯ã€‚

å‰å›ã®ãƒ¡ãƒ¼ãƒ«ã§ã€${keywords[0]}ã®é‡è¦æ€§ã«ã¤ã„ã¦ãŠè©±ã—ã—ã¾ã—ãŸã€‚

ä»Šæ—¥ã¯ã€å…·ä½“çš„ã«ã©ã†ã™ã‚Œã°${keywords[0]}ã‚’åŠ¹æœçš„ã«æ´»ç”¨ã§ãã‚‹ã®ã‹ã€ãã®æ–¹æ³•ã‚’ãŠä¼ãˆã—ã¾ã™ã€‚

å®Ÿã¯ã€ç§ãŒé–‹ç™ºã—ãŸã€Œ${genre}æˆåŠŸãƒ¡ã‚½ãƒƒãƒ‰ã€ã‚’ä½¿ãˆã°ã€èª°ã§ã‚‚ç¢ºå®Ÿã«æˆæœã‚’å‡ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚

ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ç§ãŒ10å¹´é–“ã§1000äººä»¥ä¸Šã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æŒ‡å°ã—ã¦ããŸçµŒé¨“ã‹ã‚‰ç”Ÿã¾ã‚Œã¾ã—ãŸã€‚

ãã®æ–¹æ³•ã¨ã¯...

[å…·ä½“çš„ãªæ–¹æ³•ã‚’èª¬æ˜]

ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè·µã—ãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®æˆæœã‚’ã”è¦§ãã ã•ã„ï¼š

ãƒ»Bã•ã‚“ï¼š3ãƒ¶æœˆã§å£²ä¸ŠãŒ2å€ã«
ãƒ»Cã•ã‚“ï¼šãƒãƒ¼ãƒ ã®ç”Ÿç”£æ€§ãŒ40%å‘ä¸Š
ãƒ»Dã•ã‚“ï¼š${keywords[1]}ã®ã‚¹ã‚­ãƒ«ãŒé£›èºçš„ã«å‘ä¸Š

å®Ÿã¯ã€ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚ˆã‚Šè©³ã—ãã€ä½“ç³»çš„ã«å­¦ã¹ã‚‹ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒ¼ãƒ«ã‚’é–‹è¨­ã—ã¾ã—ãŸã€‚

è©³ç´°ã¯æ¬¡å›ã®ãƒ¡ãƒ¼ãƒ«ã§ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚

[ã‚ãªãŸã®åå‰]`,
                        cta: 'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒ¼ãƒ«ã«èˆˆå‘³ãŒã‚ã‚‹',
                        psychology: 'æ¨©å¨æ€§ãƒ»ç¤¾ä¼šçš„è¨¼æ˜ãƒ»æœŸå¾…æ„Ÿ'
                    },
                    {
                        number: 4,
                        title: 'ã€é™å®šå…¬é–‹ã€‘ç‰¹åˆ¥ãªã”æ¡ˆå†…ãŒã‚ã‚Šã¾ã™',
                        timing: '5æ—¥å¾Œ',
                        purpose: 'ç¤¾ä¼šçš„è¨¼æ˜ãƒ»ç·Šæ€¥æ€§',
                        subject: 'ã€ãƒ¡ãƒ«ãƒã‚¬èª­è€…é™å®šã€‘${genre}ãƒã‚¹ã‚¿ãƒ¼ã‚¹ã‚¯ãƒ¼ãƒ«ç‰¹åˆ¥æ¡ˆå†…',
                        content: `ã“ã‚“ã«ã¡ã¯ã€‚

ã“ã‚Œã¾ã§ã®ãƒ¡ãƒ¼ãƒ«ã‚’èª­ã‚“ã§ã„ãŸã ãã€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚

ä»Šæ—¥ã¯ã€ãƒ¡ãƒ«ãƒã‚¬èª­è€…ã®ã‚ãªãŸã ã‘ã«ç‰¹åˆ¥ãªã”æ¡ˆå†…ãŒã‚ã‚Šã¾ã™ã€‚

ç§ã®${genre}ã«é–¢ã™ã‚‹çŸ¥è­˜ã¨ãƒã‚¦ãƒã‚¦ã‚’ä½“ç³»çš„ã«å­¦ã¹ã‚‹
ã€Œ${genre}ãƒã‚¹ã‚¿ãƒ¼ã‚¹ã‚¯ãƒ¼ãƒ«ã€ãŒã¤ã„ã«å®Œæˆã—ã¾ã—ãŸã€‚

ã“ã®ã‚¹ã‚¯ãƒ¼ãƒ«ã§ã¯ï¼š

ãƒ»5åˆ†Ã—30ãƒ¬ãƒƒã‚¹ãƒ³ã§ç„¡ç†ãªãå­¦ç¿’
ãƒ»${keywords[0]}ã‹ã‚‰${keywords[2]}ã¾ã§å®Œå…¨ãƒã‚¹ã‚¿ãƒ¼
ãƒ»å®Ÿè·µçš„ãªãƒ¯ãƒ¼ã‚¯ã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
ãƒ»ä¿®äº†è¨¼ã®ç™ºè¡Œ

ã“ã‚Œã¾ã§ã®å—è¬›ç”Ÿã‹ã‚‰ã¯ã€ã“ã‚“ãªæ„Ÿæƒ³ã‚’ã„ãŸã ã„ã¦ã„ã¾ã™ï¼š

ã€Œ${genre}ã¸ã®ç†è§£ãŒæ ¹æœ¬çš„ã«å¤‰ã‚ã‚Šã¾ã—ãŸã€(40ä»£ãƒ»çµŒå–¶è€…)
ã€Œå®Ÿè·µçš„ãªå†…å®¹ã§ã€ã™ãã«æˆæœãŒå‡ºã¾ã—ãŸã€(30ä»£ãƒ»ç®¡ç†è·)
ã€ŒæŠ•è³‡ã—ãŸé‡‘é¡ã®10å€ã®ä¾¡å€¤ãŒã‚ã‚Šã¾ã—ãŸã€(50ä»£ãƒ»ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆ)

é€šå¸¸ä¾¡æ ¼ã¯49,800å††ã§ã™ãŒã€
ãƒ¡ãƒ«ãƒã‚¬èª­è€…ã®ã‚ãªãŸã«ã¯ç‰¹åˆ¥ä¾¡æ ¼29,800å††ã§ã”æä¾›ã—ã¾ã™ã€‚

ã•ã‚‰ã«ã€ä»Šå›é™å®šã§ä»¥ä¸‹ã®ç‰¹å…¸ã‚’ãŠä»˜ã‘ã—ã¾ã™ï¼š

ãƒ»å€‹åˆ¥ã‚µãƒãƒ¼ãƒˆï¼ˆ3ãƒ¶æœˆé–“ï¼‰
ãƒ»é™å®šã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¸ã®å‚åŠ æ¨©
ãƒ»è¿½åŠ æ•™æã®ç„¡æ–™æä¾›

ãŸã ã—ã€ã“ã®ç‰¹åˆ¥ä¾¡æ ¼ã¯æ˜æ—¥ã®24æ™‚ã¾ã§ã®é™å®šã§ã™ã€‚

è©³ç´°ã¨ãŠç”³è¾¼ã¿ã¯æ¬¡å›ã®ãƒ¡ãƒ¼ãƒ«ã§ã€‚

[ã‚ãªãŸã®åå‰]`,
                        cta: 'ç‰¹åˆ¥ä¾¡æ ¼ã§ç”³ã—è¾¼ã¿ãŸã„',
                        psychology: 'å¸Œå°‘æ€§ãƒ»é™å®šæ€§ãƒ»ç¤¾ä¼šçš„è¨¼æ˜'
                    },
                    {
                        number: 5,
                        title: 'ã€æœ€çµ‚æ¡ˆå†…ã€‘ã‚ã¨â—‹æ™‚é–“ã§çµ‚äº†ã§ã™',
                        timing: '6æ—¥å¾Œ',
                        purpose: 'æœ€çµ‚ã‚ªãƒ•ã‚¡ãƒ¼ãƒ»è¡Œå‹•ä¿ƒé€²',
                        subject: 'ã€æ®‹ã‚Š6æ™‚é–“ã€‘${genre}ãƒã‚¹ã‚¿ãƒ¼ã‚¹ã‚¯ãƒ¼ãƒ«ç‰¹åˆ¥ä¾¡æ ¼çµ‚äº†',
                        content: `ã“ã‚“ã«ã¡ã¯ã€‚

${genre}ãƒã‚¹ã‚¿ãƒ¼ã‚¹ã‚¯ãƒ¼ãƒ«ã®ç‰¹åˆ¥ä¾¡æ ¼ã§ã®æä¾›ã¾ã§ã€ã‚ã¨6æ™‚é–“ã¨ãªã‚Šã¾ã—ãŸã€‚

ã“ã®æ©Ÿä¼šã‚’é€ƒã™ã¨ã€æ¬¡å›ã¯ã„ã¤åŒã˜æ¡ä»¶ã§ã”æä¾›ã§ãã‚‹ã‹ã‚ã‹ã‚Šã¾ã›ã‚“ã€‚

æ”¹ã‚ã¦ã€ã“ã®ã‚¹ã‚¯ãƒ¼ãƒ«ã§å¾—ã‚‰ã‚Œã‚‹ã“ã¨ã‚’ãŠä¼ãˆã—ã¾ã™ï¼š

âœ“ ${genre}ã®æœ¬è³ªçš„ãªç†è§£
âœ“ ${keywords[0]}ã®å®Ÿè·µçš„æ´»ç”¨æ³•
âœ“ ${keywords[1]}ã§æˆæœã‚’å‡ºã™ç§˜è¨£
âœ“ ${keywords[2]}ã‚’ç¶™ç¶šã™ã‚‹ä»•çµ„ã¿
âœ“ å®Ÿéš›ã®æˆåŠŸäº‹ä¾‹ã¨ãƒã‚¦ãƒã‚¦

ãã—ã¦ã€ä»Šã ã‘ã®ç‰¹å…¸ï¼š
ãƒ»å€‹åˆ¥ã‚µãƒãƒ¼ãƒˆï¼ˆ3ãƒ¶æœˆé–“ï¼‰
ãƒ»é™å®šã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã¸ã®å‚åŠ æ¨©
ãƒ»è¿½åŠ æ•™æã®ç„¡æ–™æä¾›

æŠ•è³‡é‡‘é¡ï¼š29,800å††ï¼ˆé€šå¸¸ä¾¡æ ¼49,800å††ï¼‰

ã“ã®æŠ•è³‡ã§ã€ã‚ãªãŸã®${genre}ã«é–¢ã™ã‚‹æ‚©ã¿ãŒè§£æ±ºã—ã€ç†æƒ³çš„ãªæˆæœã‚’æ‰‹ã«å…¥ã‚Œã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

1æ—¥ã‚ãŸã‚Šã‚ãšã‹99å††ã®æŠ•è³‡ã§ã€ä¸€ç”Ÿä½¿ãˆã‚‹${genre}ã®ã‚¹ã‚­ãƒ«ãŒèº«ã«ä»˜ãã¾ã™ã€‚

ãŠç”³è¾¼ã¿ã¯ã“ã¡ã‚‰ã‹ã‚‰ï¼š
[ç”³è¾¼ãƒªãƒ³ã‚¯]

æœ€å¾Œã«ã€ç§ã‹ã‚‰ã‚ãªãŸã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã™ï¼š

æˆåŠŸã¨å¤±æ•—ã®é•ã„ã¯ã€è¡Œå‹•ã™ã‚‹ã‹ã—ãªã„ã‹ã ã‘ã§ã™ã€‚

ä»Šã“ã®ç¬é–“ãŒã€ã‚ãªãŸã®äººç”Ÿã‚’å¤‰ãˆã‚‹ãƒãƒ£ãƒ³ã‚¹ã§ã™ã€‚

ä¸€ç·’ã«${genre}ã‚’ãƒã‚¹ã‚¿ãƒ¼ã—ã¾ã—ã‚‡ã†ã€‚

[ã‚ãªãŸã®åå‰]

P.S. ç‰¹åˆ¥ä¾¡æ ¼ã§ã®æä¾›ã¯ä»Šæ—¥ã®24æ™‚ã§çµ‚äº†ã—ã¾ã™ã€‚è¿·ã£ã¦ã„ã‚‹æ™‚é–“ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä»Šã™ãè¡Œå‹•ã—ã¦ãã ã•ã„ã€‚`,
                        cta: 'ä»Šã™ãç”³ã—è¾¼ã‚€',
                        psychology: 'ç·Šæ€¥æ€§ãƒ»å¸Œå°‘æ€§ãƒ»è¡Œå‹•ä¿ƒé€²'
                    }
                ];
            }

            async updateProgress(text, progress) {
                document.getElementById('progressText').textContent = text;
                document.getElementById('progressFill').style.width = progress + '%';
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            displayResults() {
                if (!this.analysisResults) return;

                this.displayAnalysisResults();
                this.displayPromotionStrategy();
                this.displayCourseStructure();
                this.displayEmailSequence();

                document.getElementById('resultsSection').classList.remove('hidden');
                document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
            }

            displayAnalysisResults() {
                const { basic, targetAudience } = this.analysisResults;

                // ã‚¿ãƒ¼ã‚²ãƒƒãƒˆèª­è€…
                const audienceHtml = targetAudience.map(audience => `
                    <div class="target-card">
                        <h4 class="font-semibold text-lg text-blue-700 mb-2">${audience.title}</h4>
                        <p class="text-sm text-gray-600 mb-2">${audience.description}</p>
                        <div class="space-y-1 text-sm">
                            <div><strong>å±æ€§:</strong> ${audience.demographics}</div>
                            <div><strong>é–¢å¿ƒ:</strong> ${audience.interests.join(', ')}</div>
                            <div><strong>åˆ©ç”¨åª’ä½“:</strong> ${audience.channels.join(', ')}</div>
                        </div>
                    </div>
                `).join('');
                document.getElementById('targetAudience').innerHTML = audienceHtml;

                // ã‚¸ãƒ£ãƒ³ãƒ«ãƒ»ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
                const keywordTags = basic.keywords.map(keyword => 
                    `<span class="keyword-tag">${keyword}</span>`
                ).join('');
                document.getElementById('genreAnalysis').innerHTML = `
                    <div class="space-y-3">
                        <div><strong>åˆ¤å®šã‚¸ãƒ£ãƒ³ãƒ«:</strong> <span class="text-green-600 font-semibold">${basic.genre}</span></div>
                        <div><strong>ä¸»è¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰:</strong><br>${keywordTags}</div>
                        <div><strong>æ–‡å­—æ•°:</strong> ç´„${basic.wordCount.toLocaleString()}æ–‡å­—</div>
                    </div>
                `;

                // æ–‡ä½“ãƒ»ãƒˆãƒ¼ãƒ³
                document.getElementById('toneAnalysis').innerHTML = `
                    <div class="space-y-3">
                        <div><strong>æ–‡ä½“ã‚¿ã‚¤ãƒ—:</strong> <span class="text-purple-600 font-semibold">${basic.tone.type}</span></div>
                        <div><strong>ç‰¹å¾´:</strong> ${basic.tone.description}</div>
                        <div><strong>èª­ã¿ã‚„ã™ã•:</strong> ãƒ“ã‚¸ãƒã‚¹æ›¸ã¨ã—ã¦é©åˆ‡ãªãƒ¬ãƒ™ãƒ«</div>
                    </div>
                `;
            }

            displayPromotionStrategy() {
                const { promotionStrategy } = this.analysisResults;

                // SNSæˆ¦ç•¥
                const snsHtml = `
                    <div class="space-y-4">
                        <div class="sns-platform">
                            <div class="flex items-center justify-between mb-3">
                                <h4 class="font-semibold text-lg flex items-center">
                                    <i class="fab fa-twitter text-blue-500 mr-2"></i>X (Twitter)
                                </h4>
                                <button class="btn-primary text-white px-4 py-2 rounded-lg text-sm generate-post-btn" data-platform="x">
                                    <i class="fas fa-refresh mr-1"></i>æŠ•ç¨¿å†…å®¹ç”Ÿæˆ
                                </button>
                            </div>
                            <div class="space-y-2" id="x-posts">
                                ${promotionStrategy.sns.x[0].map(post => `
                                    <div class="bg-gray-50 p-3 rounded-lg border-l-4 border-blue-500">
                                        <div class="whitespace-pre-line">${post}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div class="sns-platform">
                            <div class="flex items-center justify-between mb-3">
                                <h4 class="font-semibold text-lg flex items-center">
                                    <i class="fab fa-instagram text-pink-500 mr-2"></i>Instagram
                                </h4>
                                <button class="btn-primary text-white px-4 py-2 rounded-lg text-sm generate-post-btn" data-platform="instagram">
                                    <i class="fas fa-refresh mr-1"></i>æŠ•ç¨¿å†…å®¹ç”Ÿæˆ
                                </button>
                            </div>
                            <div class="space-y-2" id="instagram-posts">
                                ${promotionStrategy.sns.instagram[0].map(post => `
                                    <div class="bg-gray-50 p-3 rounded-lg border-l-4 border-pink-500">
                                        <div class="whitespace-pre-line">${post}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>

                        <div class="sns-platform">
                            <div class="flex items-center justify-between mb-3">
                                <h4 class="font-semibold text-lg flex items-center">
                                    <i class="fab fa-facebook text-blue-600 mr-2"></i>Facebook
                                </h4>
                                <button class="btn-primary text-white px-4 py-2 rounded-lg text-sm generate-post-btn" data-platform="facebook">
                                    <i class="fas fa-refresh mr-1"></i>æŠ•ç¨¿å†…å®¹ç”Ÿæˆ
                                </button>
                            </div>
                            <div class="space-y-2" id="facebook-posts">
                                ${promotionStrategy.sns.facebook[0].map(post => `
                                    <div class="bg-gray-50 p-3 rounded-lg border-l-4 border-blue-600">
                                        <div class="whitespace-pre-line">${post}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;

                document.getElementById('snsStrategy').innerHTML = snsHtml;

                // æŠ•ç¨¿ç”Ÿæˆãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
                document.querySelectorAll('.generate-post-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const platform = e.target.closest('.generate-post-btn').dataset.platform;
                        this.generateNewSNSPosts(platform);
                    });
                });

                // PRæˆ¦ç•¥
                document.getElementById('prStrategy').innerHTML = `
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-semibold text-lg mb-2">ãƒ—ãƒ¬ã‚¹ãƒªãƒªãƒ¼ã‚¹</h4>
                            <p class="bg-gray-50 p-3 rounded-lg">${promotionStrategy.pr.pressRelease}</p>
                        </div>
                        <div>
                            <h4 class="font-semibold text-lg mb-2">ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ</h4>
                            <div class="flex flex-wrap gap-2">
                                ${promotionStrategy.pr.mediaTargets.map(media => `
                                    <span class="bg-green-100 text-green-700 px-3 py-1 rounded-full text-sm">${media}</span>
                                `).join('')}
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold text-lg mb-2">ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼æƒ³å®šãƒ†ãƒ¼ãƒ</h4>
                            <ul class="space-y-1">
                                ${promotionStrategy.pr.interviews.map(theme => `
                                    <li class="strategy-item">${theme}</li>
                                `).join('')}
                            </ul>
                        </div>
                    </div>
                `;

                // åºƒå‘Šæˆ¦ç•¥
                document.getElementById('adStrategy').innerHTML = `
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-semibold text-lg mb-2">Googleåºƒå‘Šã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</h4>
                            <div class="flex flex-wrap gap-2">
                                ${promotionStrategy.advertising.google.map(keyword => `
                                    <span class="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full text-sm">${keyword}</span>
                                `).join('')}
                            </div>
                        </div>
                        <div>
                            <h4 class="font-semibold text-lg mb-2">Facebookåºƒå‘Š</h4>
                            <div class="bg-gray-50 p-3 rounded-lg space-y-2">
                                <div><strong>ã‚¿ãƒ¼ã‚²ãƒ†ã‚£ãƒ³ã‚°:</strong> ${promotionStrategy.advertising.facebook.targeting}</div>
                                <div><strong>ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–:</strong> ${promotionStrategy.advertising.facebook.creative}</div>
                            </div>
                        </div>
                    </div>
                `;

                // ã‚¤ãƒ™ãƒ³ãƒˆæˆ¦ç•¥
                document.getElementById('eventStrategy').innerHTML = `
                    <div class="space-y-4">
                        ${promotionStrategy.events.map(event => `
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <h4 class="font-semibold text-lg mb-2">${event.type}</h4>
                                <div class="space-y-1 text-sm">
                                    <div><strong>å½¢å¼:</strong> ${event.format || event.locations?.join(', ') || ''}</div>
                                    <div><strong>å†…å®¹:</strong> ${event.content || event.special || ''}</div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            displayCourseStructure() {
                const { courseStructure } = this.analysisResults;

                // 30ãƒ¬ãƒƒã‚¹ãƒ³ã®è©³ç´°ã‚«ãƒªã‚­ãƒ¥ãƒ©ãƒ 
                const lessonsHtml = courseStructure.lessons.map(lesson => `
                    <div class="lesson-card">
                        <div class="module-header">
                            <div class="text-lg font-semibold text-blue-700">ç¬¬${lesson.number}å›: ${lesson.title}</div>
                            <div class="duration-badge">${lesson.duration}</div>
                        </div>
                        
                        <div class="mb-3">
                            <h5 class="font-semibold text-sm text-gray-700 mb-2">ğŸ“‹ å­¦ç¿’ç›®æ¨™</h5>
                            <ul class="text-sm space-y-1">
                                ${lesson.objectives.map(obj => `<li class="strategy-item">${obj}</li>`).join('')}
                            </ul>
                        </div>

                        <div class="script-section">
                            <h5 class="font-semibold text-sm text-blue-700 mb-2">ğŸ¬ è¬›åº§å°æœ¬</h5>
                            <div class="space-y-2 text-sm">
                                <div><strong>å°å…¥:</strong> ${lesson.script.intro}</div>
                                <div><strong>ãƒ¡ã‚¤ãƒ³:</strong> ${lesson.script.main}</div>
                                <div><strong>å®Ÿè·µ:</strong> ${lesson.script.practice}</div>
                                <div><strong>ã¾ã¨ã‚:</strong> ${lesson.script.closing}</div>
                            </div>
                        </div>

                        <div class="mt-3">
                            <h5 class="font-semibold text-sm text-gray-700 mb-2">ğŸ“š æä¾›è³‡æ–™</h5>
                            <div class="flex flex-wrap gap-2">
                                ${lesson.materials.map(material => `
                                    <span class="timeline-item">${material}</span>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `).join('');

                document.getElementById('courseStructure').innerHTML = lessonsHtml;

                // ä¾¡æ ¼è¨­å®šãƒ»ãƒ“ã‚¸ãƒã‚¹ãƒ¢ãƒ‡ãƒ«
                document.getElementById('pricingStrategy').innerHTML = `
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-semibold text-lg mb-3">ğŸ’° ä¾¡æ ¼è¨­å®š</h4>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="bg-gray-50 p-4 rounded-lg text-center">
                                    <div class="font-semibold text-blue-700">ãƒ™ãƒ¼ã‚·ãƒƒã‚¯</div>
                                    <div class="text-2xl font-bold text-gray-800">${courseStructure.pricing.basic}</div>
                                </div>
                                <div class="bg-blue-50 p-4 rounded-lg text-center border-2 border-blue-500">
                                    <div class="font-semibold text-blue-700">ãƒ—ãƒ¬ãƒŸã‚¢ãƒ </div>
                                    <div class="text-2xl font-bold text-blue-800">${courseStructure.pricing.premium}</div>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-lg text-center">
                                    <div class="font-semibold text-blue-700">æ³•äººå‘ã‘</div>
                                    <div class="text-2xl font-bold text-gray-800">${courseStructure.pricing.corporate}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-lg mb-2">ğŸ› ï¸ æ¨å¥¨ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ </h4>
                            <p class="bg-gray-50 p-3 rounded-lg">${courseStructure.platform}</p>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-lg mb-2">ğŸ¤ ã‚µãƒãƒ¼ãƒˆä½“åˆ¶</h4>
                            <p class="bg-gray-50 p-3 rounded-lg">${courseStructure.support}</p>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-lg mb-2">ğŸ† ä»˜åŠ ä¾¡å€¤</h4>
                            <ul class="space-y-1">
                                <li class="strategy-item">${courseStructure.certificate}</li>
                                <li class="strategy-item">ã‚¢ãƒƒãƒ—ã‚»ãƒ«å•†å“: ${courseStructure.upsell}</li>
                            </ul>
                        </div>
                    </div>
                `;
            }

            displayEmailSequence() {
                const { emailSequence } = this.analysisResults;

                const emailsHtml = emailSequence.map(email => `
                    <div class="email-card">
                        <div class="flex items-center justify-between mb-3">
                            <h4 class="font-semibold text-lg text-purple-700">
                                ${email.number}é€šç›®: ${email.title}
                            </h4>
                            <div class="text-sm text-gray-500">${email.timing}</div>
                        </div>
                        
                        <div class="mb-3">
                            <div class="text-sm font-semibold text-gray-700 mb-1">ç›®çš„:</div>
                            <div class="text-sm text-gray-600">${email.purpose}</div>
                        </div>
                        
                        <div class="mb-3">
                            <div class="text-sm font-semibold text-gray-700 mb-1">ä»¶å:</div>
                            <div class="bg-gray-50 p-2 rounded text-sm">${email.subject}</div>
                        </div>
                        
                        <div class="mb-3">
                            <div class="text-sm font-semibold text-gray-700 mb-1">æœ¬æ–‡:</div>
                            <div class="bg-gray-50 p-3 rounded text-sm whitespace-pre-line">${email.content}</div>
                        </div>
                        
                        <div class="flex items-center justify-between text-sm">
                            <div>
                                <span class="font-semibold text-gray-700">CTA:</span>
                                <span class="text-purple-600">${email.cta}</span>
                            </div>
                            <div>
                                <span class="font-semibold text-gray-700">å¿ƒç†æŠ€æ³•:</span>
                                <span class="text-green-600">${email.psychology}</span>
                            </div>
                        </div>
                    </div>
                `).join('');

                document.getElementById('emailSequence').innerHTML = emailsHtml;
            }

            generateNewSNSPosts(platform) {
                const { promotionStrategy } = this.analysisResults;
                const posts = promotionStrategy.sns[platform];
                
                // ç¾åœ¨ã®ã‚«ã‚¦ãƒ³ãƒˆã‚’å–å¾—ã—ã€æ¬¡ã®ã‚»ãƒƒãƒˆã‚’é¸æŠ
                const currentSet = this.snsPostCounts[platform] % posts.length;
                const nextSet = (currentSet + 1) % posts.length;
                
                this.snsPostCounts[platform] = nextSet;
                
                const newPosts = posts[nextSet];
                const platformColors = {
                    x: 'border-blue-500',
                    instagram: 'border-pink-500',
                    facebook: 'border-blue-600'
                };
                
                const postsHtml = newPosts.map(post => `
                    <div class="bg-gray-50 p-3 rounded-lg border-l-4 ${platformColors[platform]} fade-in">
                        <div class="whitespace-pre-line">${post}</div>
                    </div>
                `).join('');
                
                document.getElementById(`${platform}-posts`).innerHTML = postsHtml;
            }

            switchTab(e) {
                const tabName = e.target.dataset.tab;
                
                // ã‚¿ãƒ–ã®åˆ‡ã‚Šæ›¿ãˆ
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.classList.remove('tab-active');
                    tab.classList.add('text-gray-600');
                });
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.add('hidden');
                });
                
                e.target.classList.add('tab-active');
                e.target.classList.remove('text-gray-600');
                document.getElementById(tabName).classList.remove('hidden');
            }

            downloadResults() {
                if (!this.analysisResults) return;

                const results = {
                    timestamp: new Date().toISOString(),
                    fileName: this.uploadedFile.name,
                    analysis: this.analysisResults
                };

                const blob = new Blob([JSON.stringify(results, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `authors_analysis_${Date.now()}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }

            downloadSlides() {
                if (!this.analysisResults) return;

                // ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’æº–å‚™
                const slideData = {
                    title: 'ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¹ã‚¯ãƒ¼ãƒ«è¬›åº§ã‚¹ãƒ©ã‚¤ãƒ‰',
                    totalLessons: 30,
                    lessons: this.analysisResults.courseStructure.lessons.map(lesson => lesson.slides)
                };

                // JSONå½¢å¼ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆå®Ÿéš›ã®å®Ÿè£…ã§ã¯ PowerPoint å½¢å¼ã«å¤‰æ›ï¼‰
                const blob = new Blob([JSON.stringify(slideData, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `lecture_slides_${Date.now()}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                // æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
                alert('ã‚¹ãƒ©ã‚¤ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸï¼\nå®Ÿéš›ã®å®Ÿè£…ã§ã¯ PowerPoint å½¢å¼ã§æä¾›ã•ã‚Œã¾ã™ã€‚');
            }
        }

        // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', () => {
            new AuthorsAnalyzer();
        });
    </script>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon='{"rayId":"960802ee9954c69e","serverTiming":{"name":{"cfExtPri":true,"cfEdge":true,"cfOrigin":true,"cfL4":true,"cfSpeedBrain":true,"cfCacheStatus":true}},"version":"2025.7.0","token":"4edd5f8ec12a48cfa682ab8261b80a79"}' crossorigin="anonymous"></script>
</body>
</html>
    <script id="html_badge_script1">
        window.__genspark_remove_badge_link = "https://www.genspark.ai/api/html_badge/" +
            "remove_badge?token=To%2FBnjzloZ3UfQdcSaYfDmq%2B2oUUYGgWYw66BUzWxblkgC4t2NSPl3vMjCxgo%2BAi7ZK4PqpG4e9h5VKmidFNtJ%2Beh3G7L0LrdQp4tXDtNulO3ebi3jAbLthODsAMbOSuoJDIefTWFe9IBtWapewIQdaT9MhHHj1rXyrs1LMCN%2BCiRV1LZbCMH%2Fhs3DcBmE1DHt7i%2BObcnX58vo1hnmWHLEV5mFwAnkFG0Inzsgs%2B%2BpBp8G8IJ2gwviY5I2%2B9VX2xld5djeTIDuqdAu2p20NFJXoyoHkApvvln%2FTyvVOoqWotVFPEsmnJZgSZ%2F6vmBbefJFs0RZWRikCBzRKqDLjnLkrUfQcQGAPr4oE76XAbk5P3uts9p%2BowXMrR8wdhuZkqTg5dYrrIXf%2FHbEB%2B8puOFgbDSFGCeWEnqda2ensDe2Z5nMcNeXFlb%2FTKIZMQ7OxwJ4UqWKFk2mU5dWeAhaorW9XlmJLEQWW9qJMrE%2BS2QG0sun37mAEq3ysKaAq3E21EZSYEh0JKMo20TX4AE9Z2%2Fg%3D%3D";
        window.__genspark_locale = "ja-JP";
        window.__genspark_token = "To/BnjzloZ3UfQdcSaYfDmq+2oUUYGgWYw66BUzWxblkgC4t2NSPl3vMjCxgo+Ai7ZK4PqpG4e9h5VKmidFNtJ+eh3G7L0LrdQp4tXDtNulO3ebi3jAbLthODsAMbOSuoJDIefTWFe9IBtWapewIQdaT9MhHHj1rXyrs1LMCN+CiRV1LZbCMH/hs3DcBmE1DHt7i+ObcnX58vo1hnmWHLEV5mFwAnkFG0Inzsgs++pBp8G8IJ2gwviY5I2+9VX2xld5djeTIDuqdAu2p20NFJXoyoHkApvvln/TyvVOoqWotVFPEsmnJZgSZ/6vmBbefJFs0RZWRikCBzRKqDLjnLkrUfQcQGAPr4oE76XAbk5P3uts9p+owXMrR8wdhuZkqTg5dYrrIXf/HbEB+8puOFgbDSFGCeWEnqda2ensDe2Z5nMcNeXFlb/TKIZMQ7OxwJ4UqWKFk2mU5dWeAhaorW9XlmJLEQWW9qJMrE+S2QG0sun37mAEq3ysKaAq3E21EZSYEh0JKMo20TX4AE9Z2/g==";
    </script>
    
    <script id="html_notice_dialog_script" src="https://www.genspark.ai/notice_dialog.js"></script>
    